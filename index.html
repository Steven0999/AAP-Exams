<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz Platform</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: black;
      color:ornage;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .hidden {
      display: none !important; /* Use !important to ensure override */
    }
    .container {
      max-width: 800px;
      width: 90%; /* Make it more responsive */
      margin: 20px auto; /* Add some vertical margin */
      padding: 20px;
      background-color: grey;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.15); /* Stronger shadow */
      border-radius: 10px; /* Rounded corners for the container */
    }
    h1, h2, h3 {
      text-align: center;
      color: orange;
    }
    .exam-list {
      display: flex;
      flex-direction: column;
      gap: 15px; /* Increased gap */
      margin-top: 20px;
    }
    .exam-btn, .btn {
      padding: 12px 20px; /* More padding */
      font-size: 18px; /* Larger font */
      cursor: pointer;
      background-color: orange;
      color: white;
      border: none;
      border-radius: 8px; /* More rounded */
      transition: background-color 0.3s ease, transform 0.2s ease; /* Smooth transitions */
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Button shadow */
    }
    .btn:hover, .exam-btn:hover {
      background-color: #0056b3;
      transform: translateY(-2px); /* Slight lift on hover */
    }
    .btn:active, .exam-btn:active {
      transform: translateY(0); /* Press effect */
    }
    .back-btn {
      margin-bottom: 20px; /* More space below back button */
      display: inline-block;
      align-self: flex-start; /* Align to start in flex container */
      background-color:orange;
    }
    .question-container {
      margin: 20px 0;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background-color: orange;
    }
    .question-text {
      font-size: 20px;
      margin-bottom: 15px;
      color: black;
    }
    .options button {
      display: block;
      margin: 10px 0;
      width: 100%;
      text-align: left; /* Align text to left for options */
    }
    .progress-bar {
      text-align: center;
      font-size: 16px;
      margin-bottom: 15px;
      color: orange;
    }
    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: orange;
      padding: 30px; /* More padding */
      border-radius: 12px; /* More rounded */
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3); /* Stronger shadow */
      z-index: 1000;
      display: none;
      text-align: center;
      max-width: 90%;
      width: 400px;
    }
    .popup h3 {
      margin: 0 0 15px;
      font-size: 24px;
      color: grey;
    }
    .popup p {
      margin: 0 0 25px;
      font-size: 16px;
      line-height: 1.5;
      color: black;
    }
    .popup button {
      background-color: grey; /* Green for continue */
      color: black;
      border: none;
      padding: 12px 25px;
      cursor: pointer;
      border-radius: 8px;
      font-size: 18px;
      transition: background-color 0.3s ease;
    }
    .popup button:hover {
      background-color: #218838;
    }
    .results-summary {
      text-align: center;
      margin-top: 20px;
    }
    .results-summary h2 {
      font-size: 28px;
      color: #007bff;
      margin-bottom: 10px;
    }
    .results-summary p {
      font-size: 22px;
      color: #333;
      margin-bottom: 30px;
    }
    .results-actions {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .results-actions button {
      width: 100%;
    }
    /* Specific styles for correct/incorrect popup titles */
    #popup-title.correct {
      color: #28a745; /* Green */
    }
    #popup-title.incorrect {
      color: #dc3545; /* Red */
    }
  </style>
</head>
<body>
  <!-- Contents Page -->
  <div id="contents-page" class="container">
    <h1>Quiz Platform</h1>
    <h2>Select an Exam</h2>
    <div class="exam-list" id="exam-buttons"></div>
  </div>

  <!-- Quiz Application Page -->
  <div id="quiz-app" class="container hidden">
    <button class="btn back-btn" onclick="goToContentsPage()">&larr; Back to Contents</button>
    <div class="progress-bar" id="progress-bar"></div>
    <div id="quiz">
      <div class="question-container">
        <p class="question-text" id="question"></p>
      </div>
      <div class="options" id="options"></div>
    </div>
  </div>

  <!-- Results Page -->
  <div id="results-page" class="container hidden">
    <div class="results-summary">
      <h2>Quiz Complete!</h2>
      <p id="final-score"></p>
    </div>
    <div class="results-actions">
      <button class="btn" onclick="retakeQuiz()">Retake Quiz</button>
      <button class="btn" onclick="goToContentsPageFromResults()">Back to Contents</button>
    </div>
  </div>

  <!-- Pop-up for Answer Explanation -->
  <div id="popup" class="popup">
    <h3 id="popup-title"></h3>
    <p id="popup-message"></p>
    <button onclick="closePopupAndContinue()">Continue</button>
  </div>

  <script>
    // Get DOM elements
    const contentsPage = document.getElementById('contents-page');
    const quizApp = document.getElementById('quiz-app');
    const resultsPage = document.getElementById('results-page');
    const questionElement = document.getElementById('question');
    const optionsElement = document.getElementById('options');
    const popup = document.getElementById('popup');
    const popupTitle = document.getElementById('popup-title');
    const popupMessage = document.getElementById('popup-message');
    const examButtonsContainer = document.getElementById('exam-buttons');
    const progressBar = document.getElementById('progress-bar');
    const finalScoreElement = document.getElementById('final-score');

    // Quiz state variables
    let currentQuestionIndex = 0;
    let questions = [];
    let score = 0;
    let currentExamIndex = -1; // To keep track of the currently selected exam

    // --- Quiz Data ---
    // This is where you define your exams and their questions.
    // Each exam object has a 'title' and an array of 'questions'.
    // Each question object has 'question' text, an array of 'options',
    // the 'correctAnswerIndex' (0-based), and an 'explanation'.
    const exams = [
      {
        title: "General Knowledge Quiz",
        questions: [
          {
            question: "What is the capital of France?",
            options: ["London", "Berlin", "Paris", "Rome"],
            correctAnswerIndex: 2,
            explanation: "Paris is the capital and most populous city of France, known for its art, fashion, gastronomy, and culture."
          },
          {
            question: "Which planet is known as the Red Planet?",
            options: ["Earth", "Mars", "Jupiter", "Venus"],
            correctAnswerIndex: 1,
            explanation: "Mars is called the Red Planet because of the iron oxide prevalent on its surface, which gives it a reddish appearance."
          },
          {
            question: "What is the largest ocean on Earth?",
            options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"],
            correctAnswerIndex: 3,
            explanation: "The Pacific Ocean is the largest and deepest of Earth's five oceans, covering about one-third of the surface."
          },
          {
            question: "Who painted the Mona Lisa?",
            options: ["Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Claude Monet"],
            correctAnswerIndex: 2,
            explanation: "Leonardo da Vinci, a true Renaissance polymath, painted the iconic Mona Lisa."
          },
          {
            question: "What is the chemical symbol for gold?",
            options: ["Au", "Ag", "Fe", "Cu"],
            correctAnswerIndex: 0,
            explanation: "The chemical symbol for gold is Au, derived from its Latin name 'aurum'."
          }
        ]
      },
      {
        title: "Science Basics",
        questions: [
          {
            question: "What is the chemical symbol for water?",
            options: ["O2", "H2O", "CO2", "N2"],
            correctAnswerIndex: 1,
            explanation: "H2O is the chemical formula for water, indicating two hydrogen atoms and one oxygen atom."
          },
          {
            question: "What force keeps us on the ground?",
            options: ["Magnetism", "Friction", "Gravity", "Tension"],
            correctAnswerIndex: 2,
            explanation: "Gravity is the fundamental force of attraction between any two objects with mass."
          },
          {
            question: "What is the process by which plants make their own food?",
            options: ["Respiration", "Transpiration", "Photosynthesis", "Germination"],
            correctAnswerIndex: 2,
            explanation: "Photosynthesis is the process used by plants, algae, and cyanobacteria to convert light energy into chemical energy."
          },
          {
            question: "What is the powerhouse of the cell?",
            options: ["Nucleus", "Ribosome", "Mitochondria", "Endoplasmic Reticulum"],
            correctAnswerIndex: 2,
            explanation: "Mitochondria are often called the 'powerhouses' of the cell because they generate most of the cell's supply of ATP (adenosine triphosphate), used as a source of chemical energy."
          }
        ]
      },
      {
        title: "History Highlights",
        questions: [
          {
            question: "In what year did the Titanic sink?",
            options: ["1905", "1912", "1918", "1923"],
            correctAnswerIndex: 1,
            explanation: "The RMS Titanic sank on April 15, 1912, after striking an iceberg during its maiden voyage."
          },
          {
            question: "Who was the first President of the United States?",
            options: ["Thomas Jefferson", "Abraham Lincoln", "George Washington", "John Adams"],
            correctAnswerIndex: 2,
            explanation: "George Washington served as the first President of the United States from 1789 to 1797."
          },
          {
            question: "When did World War II end?",
            options: ["1939", "1941", "1945", "1950"],
            correctAnswerIndex: 2,
            explanation: "World War II officially ended on September 2, 1945, with the formal surrender of Japan."
          }
        ]
      }
    ];

    // --- Initial setup: Populate exam buttons on the contents page ---
    function initializeExamButtons() {
      examButtonsContainer.innerHTML = ''; // Clear existing buttons
      exams.forEach((exam, index) => {
        const button = document.createElement('button');
        button.className = 'exam-btn';
        button.textContent = `${index + 1}. ${exam.title}`;
        button.onclick = () => startExam(index);
        examButtonsContainer.appendChild(button);
      });
    }

    // Call this function when the page loads
    document.addEventListener('DOMContentLoaded', initializeExamButtons);

    // --- Navigation Functions ---

    // Shows the contents page and hides others
    function goToContentsPage() {
      quizApp.classList.add('hidden');
      resultsPage.classList.add('hidden');
      contentsPage.classList.remove('hidden');
    }

    // Starts a selected exam
    function startExam(index) {
      currentExamIndex = index; // Store the index of the current exam
      questions = exams[index].questions;
      currentQuestionIndex = 0;
      score = 0;

      contentsPage.classList.add('hidden');
      resultsPage.classList.add('hidden');
      quizApp.classList.remove('hidden');

      displayQuestion();
    }

    // Retakes the current quiz from the results page
    function retakeQuiz() {
      if (currentExamIndex !== -1) {
        startExam(currentExamIndex); // Restart the same exam
      } else {
        goToContentsPage(); // Fallback if for some reason exam index is lost
      }
    }

    // Goes to contents page from the results page
    function goToContentsPageFromResults() {
      goToContentsPage();
    }

    // --- Quiz Logic Functions ---

    // Displays the current question and its options
    function displayQuestion() {
      // Update progress bar
      progressBar.innerText = `Question ${currentQuestionIndex + 1} of ${questions.length}`;

      const current = questions[currentQuestionIndex];

      // If all questions are answered, show results
      if (!current) {
        showResultsPage();
        return;
      }

      questionElement.innerText = current.question;
      optionsElement.innerHTML = ''; // Clear previous options

      current.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.classList.add('btn');
        button.innerText = option;
        button.onclick = () => checkAnswer(index);
        optionsElement.appendChild(button);
      });
    }

    // Checks the selected answer against the correct one
    function checkAnswer(selectedIndex) {
      const current = questions[currentQuestionIndex];
      const isCorrect = selectedIndex === current.correctAnswerIndex;

      // Set popup title and message
      popupTitle.innerText = isCorrect ? "Correct!" : "Incorrect.";
      // Add class for styling the popup title based on correctness
      popupTitle.classList.remove('correct', 'incorrect');
      popupTitle.classList.add(isCorrect ? 'correct' : 'incorrect');

      popupMessage.innerText = current.explanation;

      if (isCorrect) {
        score++;
      }
      showPopup();
    }

    // Shows the explanation pop-up
    function showPopup() {
      popup.style.display = 'block';
    }

    // Closes the pop-up and moves to the next question or results
    function closePopupAndContinue() {
      popup.style.display = 'none';
      currentQuestionIndex++;
      displayQuestion(); // This will either display the next question or show results
    }

    // Shows the results page
    function showResultsPage() {
      quizApp.classList.add('hidden');
      contentsPage.classList.add('hidden');
      resultsPage.classList.remove('hidden');
      finalScoreElement.innerText = `You scored ${score} out of ${questions.length} questions correctly!`;
    }
  </script>
</body>
</html>
